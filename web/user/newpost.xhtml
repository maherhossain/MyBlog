<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

   <ui:composition template="../resources/adminpage.xhtml">
       <ui:define name="title">Add New Post</ui:define>
        
       <ui:define name="aside">
           
           <h1> <a href="#{request.getContextPath()}/"> <img src="#{request.getContextPath()}/resources/img/forum.png" class="logo"/> </a></h1> 
           <br/><br/><br/>
           <ul class="asideMenu">     
               <li> <a href="#{request.getContextPath()}/user/welcome.xhtml"> <i class="fa fa-user"></i>  #{sessionScope.uname} </a> </li>
               <li> <a href="#{request.getContextPath()}/user/newpost.xhtml" class="active"> <i class="fa fa-plus"></i>  New Post </a> </li>
               <li> 
               <h:form>                   
                <h:commandLink action="#{loginMB.logout()}"> <i class="fa fa-sign-out"></i> Logout </h:commandLink>            
               </h:form>
               </li> 
               
            </ul>

       </ui:define>
       
       
        <ui:define name="content">  
            <h2>Add New Post</h2><hr class="admin"/><br/><br/><br/>
             <h:form>
                
                 <p:messages id="msg" closable="true"></p:messages>
                <h:panelGrid columns="2">  
                    
                    <h:outputLabel value="Select Category"></h:outputLabel>
                    <p:selectOneMenu value="#{postsMB.catName}">
                        <f:selectItem itemLabel="--Select One--" itemValue=""></f:selectItem>
                        <f:selectItems value="#{postsMB.categoryName}">
                        </f:selectItems>                    
                    </p:selectOneMenu>
                    
                    <h:outputLabel>Post Title </h:outputLabel>
                    <p:inputText value="#{postsMB.posts.postTitle}" label="Post Title" required="true" requiredMessage="Post title can't be empty" />
                    
                    <h:outputLabel>Content</h:outputLabel>
                    <p:editor value="#{postsMB.posts.postContent}" required="true" requiredMessage="Post content can't be empty" />
                    
                   
                    <h:outputText></h:outputText>
                    <p:commandButton action="#{postsMB.addPost(sessionScope.uid)}" value="Post Now" update="msg" />
                </h:panelGrid>                 

            </h:form>              
           

         </ui:define>               
             
   </ui:composition> 
</html>

